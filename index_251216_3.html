<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boarding - Hanwha Style Finance App</title>
    <style>
        /* ====================================
           1. Hanwha Style Color Palette & Basic Setup
           ==================================== */
        :root {
            --primary-color: #F37321; 
            --secondary-color: #231F20; 
            --background-color: #F8F9FA;
            --card-background: #FFFFFF;
            --text-color: #222222;
            --sub-text-color: #888888;
            --card-gradient: linear-gradient(135deg, #FF9966, #FF5E62); 
            --tab-color-active: #F37321;
            --button-bg-soft: #FFF0E6;
        }

        * { box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            padding-bottom: 80px; /* í•˜ë‹¨ íƒ­ ë°” ê³µê°„ í™•ë³´ */
        }

        /* ì•± ê»ë°ê¸° */
        .app-shell {
            max-width: 450px;
            margin: 0 auto;
            background-color: var(--card-background);
            min-height: 100vh;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.05);
            position: relative;
            padding-bottom: 90px;
        }

        .page { display: none; padding: 20px; }
        .page.active { display: block; }

        /* ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ */
        .hidden { display: none !important; }
        .disabled-area { opacity: 0.4; pointer-events: none; }
        
        /* ====================================
           Top Bar
           ==================================== */
        .topbar {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 20px 20px 0;
        }
        .topbar .profile {
            width: 32px; height: 32px; border-radius: 50%; background-color: #EEEEEE; margin-right: 12px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23555"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
            background-repeat: no-repeat; background-position: center; background-size: 70%;
        }
        .topbar .pill {
            background: var(--button-bg-soft); color: var(--primary-color); padding: 8px 14px;
            border-radius: 20px; font-size: 14px; font-weight: 700; cursor: pointer;
        }

        /* ====================================
           Home Page Components
           ==================================== */
        .card-container { padding: 10px 20px; }
        .gradient-card {
            width: 100%; height: 200px; background: var(--card-gradient); border-radius: 20px;
            box-shadow: 0 10px 25px rgba(243, 115, 33, 0.3); padding: 20px; color: white;
            position: relative; margin-bottom: 25px; display: flex; flex-direction: column; justify-content: space-between;
        }
        .gradient-card .card-brand { position: absolute; right: 20px; bottom: 20px; display: flex; }
        .brand-circle { width: 24px; height: 24px; border-radius: 50%; }
        .brand-circle.red { background-color: #EB001B; opacity: 0.8; }
        .brand-circle.yellow { background-color: #F79E1B; opacity: 0.8; margin-left: -10px;}
        .card-chip { width: 35px; height: 25px; background: rgba(255,255,255,0.3); border-radius: 4px; margin-bottom: 10px; }

        .balance-area { text-align: center; margin-bottom: 30px; }
        .balance-area .amount { font-size: 36px; font-weight: 800; color: var(--text-color); letter-spacing: -0.5px; }
        .balance-area .currency { font-size: 14px; font-weight: 600; color: var(--sub-text-color); margin-bottom: 5px; }

        .action-tray { display: flex; justify-content: space-around; margin-bottom: 35px; padding: 0 10px; }
        .action-btn-pill { display: flex; flex-direction: column; align-items: center; font-size: 13px; font-weight: 600; color: var(--text-color); cursor: pointer; gap: 8px; transition: transform 0.1s; }
        .action-btn-pill:active { transform: scale(0.95); }
        .action-btn-pill .icon { width: 48px; height: 48px; border-radius: 16px; background: var(--button-bg-soft); color: var(--primary-color); display: flex; justify-content: center; align-items: center; font-size: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.03); }

        .quick-actions-grid { padding: 0 20px; }
        .grid-4 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .action-card { border-radius: 16px; padding: 16px; color: white; height: 110px; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer; transition: transform 0.1s; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); }
        .action-card:active { transform: scale(0.98); }
        .action-card.primary { background: linear-gradient(135deg, #F37321, #FF9A44); }
        .action-card.secondary { background: linear-gradient(135deg, #5D5D5D, #333333); }
        .action-card.accent { background: linear-gradient(135deg, #FFC107, #FF9800); }
        .action-card.info { background: linear-gradient(135deg, #4DB6AC, #009688); }

        /* ====================================
           Navigation Bar
           ==================================== */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0; max-width: 450px; margin: 0 auto;
            height: 70px; background: var(--card-background); display: flex; justify-content: space-around; align-items: center;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.03); z-index: 10; border-top: 1px solid #f0f0f0;
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; font-size: 11px; font-weight: 600; color: #BBBBBB; cursor: pointer; padding: 5px; transition: color 0.2s; }
        .nav-item.active { color: var(--tab-color-active); }
        .nav-item i { font-size: 22px; margin-bottom: 4px; }

        /* ====================================
           Page Styles (Forms & Charge)
           ==================================== */
        .form-card { padding: 20px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.03); }
        .back-link { display: inline-flex; align-items: center; gap: 6px; font-weight: 700; color: var(--text-color); cursor: pointer; margin-bottom: 15px; font-size: 14px; opacity: 0.7; text-decoration: none;}
        .back-link:hover { opacity: 1; color: var(--primary-color); }

        /* --- ì¶©ì „í•˜ê¸° ì „ìš© ìŠ¤íƒ€ì¼ (ìˆ˜ì •ë¨) --- */
        
        /* 1. í†µí™” ì„ íƒ ë° ì…ë ¥ì°½ */
        .currency-choice-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px; }
        .currency-choice { padding: 10px; border: 1px solid #e5e7eb; border-radius: 10px; cursor: pointer; font-weight: 700; text-align: center; background: #fff; display: flex; flex-direction: column; align-items: center; gap: 3px; font-size: 12px; transition: all 0.2s; }
        .currency-choice.active { border-color: var(--primary-color); background-color: var(--button-bg-soft); color: var(--primary-color); box-shadow: 0 2px 8px rgba(243, 115, 33, 0.15); }
        
        .dual-currency { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 12px; background: #F8F9FA; margin-bottom: 15px; border: 1px solid #EEEEEE; }
        .currency-box { flex: 1; padding: 8px; }
        .currency-box input { width: 100%; border: none; background: transparent; font-size: 22px; font-weight: 800; outline: none; text-align: right; margin-top: 5px; color: var(--text-color); }
        .currency-box small { font-size: 12px; color: var(--sub-text-color); display: block; }

        /* 2. ê¸ˆì•¡ ë²„íŠ¼ ê·¸ë¦¬ë“œ (ìƒˆë¡œ ì¶”ê°€) */
        .money-grid { display: flex; flex-wrap: wrap; justify-content: space-between; gap: 8px; margin-bottom: 20px; }
        .money-btn { width: 31%; padding: 12px 0; background-color: #f5f5f5; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; color: #333; cursor: pointer; transition: background 0.2s; }
        .money-btn:active { background-color: #e0e0e0; }

        /* 3. ì´ˆê¸°í™” | ë‹¤ìŒ ë²„íŠ¼ Row (ìƒˆë¡œ ì¶”ê°€) */
        .action-row { display: flex; gap: 10px; margin-top: 10px; }
        .btn-reset { flex: 1; background: #fff; border: 1px solid #ddd; color: #666; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
        .btn-next { flex: 2; background: var(--primary-color); border: none; color: white; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }

        /* 4. ê²°ì œ ìˆ˜ë‹¨ ë° ìƒì„¸ í¼ */
        .payment-section { margin-top: 20px; }
        .section-title { font-size: 16px; font-weight: 700; margin-bottom: 15px; display: block; }
        .payment-option { display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; cursor: pointer; font-size: 15px;}
        .payment-option.selected { background-color: #fffaf5; } /* ì„ íƒ ì‹œ ë°°ê²½ìƒ‰ */
        .payment-option.selected .radio-circle { border-color: var(--primary-color); }
        .payment-option.selected .radio-circle::after { content: ''; width: 10px; height: 10px; background: var(--primary-color); border-radius: 50%; }
        .radio-circle { width: 20px; height: 20px; border: 2px solid #ccc; border-radius: 50%; margin-right: 15px; display: flex; align-items: center; justify-content: center; }
        
        /* ë°”ì½”ë“œ ë° ì¹´ë“œ í¼ ë°•ìŠ¤ */
        .detail-box { margin-top: 10px; padding: 15px; background: #f9f9f9; border-radius: 10px; border: 1px solid #eee; display: none; }
        .detail-box.show { display: block; animation: fadeIn 0.3s; }

        /* í•˜ë‹¨ í”Œë¡œíŒ… ë°” (ì£¼í™©ìƒ‰ íˆ¬ëª…) */
        .bottom-floating-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background-color: rgba(243, 115, 33, 0.95); /* í•œí™” ì˜¤ë Œì§€ íˆ¬ëª…ë„ 95% */
            padding: 20px; padding-bottom: 30px;
            border-radius: 20px 20px 0 0; text-align: center; color: white; font-size: 18px; font-weight: 700;
            cursor: pointer; z-index: 100;
            box-shadow: 0 -4px 15px rgba(0,0,0,0.1);
            max-width: 450px; margin: 0 auto;
        }

        /* ê³µí†µ ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        .input-group { margin-bottom: 14px; }
        .input-group label { display: block; font-size: 13px; color: var(--sub-text-color); margin-bottom: 6px; }
        .input-group input, .input-group select { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #e5e7eb; font-size: 15px; background: #fff; }
        .btn.primary { background: var(--primary-color); color: #fff; border: none; padding: 14px; border-radius: 12px; width: 100%; font-weight: 700; cursor: pointer; box-shadow: 0 4px 12px rgba(243, 115, 33, 0.3); }
        .btn.primary:hover { opacity: 0.95; }
        .toast { position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%); background: #111; color: #fff; padding: 12px 18px; border-radius: 16px; font-size: 14px; display: none; z-index: 200; opacity: 0; transition: opacity 0.3s; box-shadow: 0 8px 20px rgba(0,0,0,0.2); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div class="app-shell">
    <div class="topbar">
        <div class="profile"></div>
        <div class="pill" onclick="showToast('ì•Œë¦¼ í˜ì´ì§€')"><i class="fas fa-bell"></i></div>
    </div>

    <section class="page active" id="page-home">
        <div class="card-container">
            <div class="gradient-card">
                <div>
                    <div class="label" style="opacity:0.8;">Hanwha Travel Card</div>
                    <div class="card-chip"></div>
                    <div class="card-number" style="margin-top:5px; font-size:18px; letter-spacing:1px;">0023 1234 5678 9000</div>
                </div>
                <div>
                    <div class="label" style="font-size:12px; opacity:0.8;">MEMBER SINCE 2024</div>
                    <div class="card-brand">
                        <div class="brand-circle red"></div>
                        <div class="brand-circle yellow"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="balance-area">
            <div class="currency">ì´ ì”ì•¡ (USD í™˜ì‚°)</div>
            <div class="amount" id="total-assets">$3,860.00</div>
        </div>

        <div class="action-tray">
            <div class="action-btn-pill" data-target="page-transfer">
                <div class="icon"><i class="fas fa-paper-plane"></i></div>
                ì†¡ê¸ˆ
            </div>
            <div class="action-btn-pill" data-target="page-charge">
                <div class="icon"><i class="fas fa-plus"></i></div>
                ì¶©ì „
            </div>
            <div class="action-btn-pill" onclick="showToast('ìš”ì²­ ê¸°ëŠ¥ ì¤€ë¹„ì¤‘')">
                <div class="icon"><i class="fas fa-hand-holding-usd"></i></div>
                ìš”ì²­
            </div>
            <div class="action-btn-pill" data-target="page-remit">
                <div class="icon"><i class="fas fa-globe-asia"></i></div>
                í™˜ì „
            </div>
        </div>

        <div class="quick-actions-grid">
            <h3 style="font-size:17px; margin-bottom:15px;">ìì£¼ ì“°ëŠ” ê¸°ëŠ¥</h3>
            <div class="grid-4">
                <div class="action-card primary" onclick="showToast('ì†Œë¹„ ë‚´ì—­ í™•ì¸')">
                    <div><i class="fas fa-receipt" style="font-size:24px;"></i></div>
                    <div style="font-size:14px; font-weight:600;">ì†Œë¹„ ë‚´ì—­</div>
                </div>
                <div class="action-card secondary" onclick="showToast('êµí†µì¹´ë“œ ê´€ë¦¬')">
                    <div><i class="fas fa-bus" style="font-size:24px;"></i></div>
                    <div style="font-size:14px; font-weight:600;">êµí†µì¹´ë“œ</div>
                </div>
                <div class="action-card accent" onclick="showToast('ë¯¸ì…˜/í˜œíƒ í™•ì¸')">
                    <div><i class="fas fa-medal" style="font-size:24px;"></i></div>
                    <div style="font-size:14px; font-weight:600;">ë¯¸ì…˜ (5,000P)</div>
                </div>
                <div class="action-card info" onclick="showToast('ë¹„ì ê´€ë¦¬')">
                    <div><i class="fas fa-passport" style="font-size:24px;"></i></div>
                    <div style="font-size:14px; font-weight:600;">ë¹„ì ê´€ë¦¬</div>
                </div>
            </div>
        </div>
    </section>

    <section class="page" id="page-charge">
        <a class="back-link" data-target="page-home"><i class="fas fa-arrow-left"></i> í™ˆìœ¼ë¡œ</a>
        
        <div class="form-card">
            <h2 style="margin-top:0;">ì¶©ì „í•˜ê¸°</h2>
            <p style="color:var(--sub-text-color); margin-top:4px; margin-bottom:20px;">ì›í•˜ëŠ” í†µí™”ì™€ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>

            <div id="step1-area">
                <div class="currency-choice-grid">
                    <div class="currency-choice active" onclick="setCurrency('USD', this)" data-currency="USD">
                        <span style="font-size:18px;">ğŸ‡ºğŸ‡¸</span> USD
                    </div>
                    <div class="currency-choice" onclick="setCurrency('EUR', this)" data-currency="EUR">
                        <span style="font-size:18px;">ğŸ‡ªğŸ‡º</span> EUR
                    </div>
                    <div class="currency-choice" onclick="setCurrency('AUD', this)" data-currency="AUD">
                        <span style="font-size:18px;">ğŸ‡¦ğŸ‡º</span> AUD
                    </div>
                </div>

                <div class="dual-currency">
                    <div class="currency-box">
                        <small>KRW (ì›í™”)</small>
                        <input id="charge-krw-input" type="text" inputmode="decimal" placeholder="0" readonly>
                    </div>
                    <div style="color:#ddd; font-size: 20px;">|</div>
                    <div class="currency-box">
                        <small id="local-currency-label">USD (í˜„ì§€ í†µí™”)</small>
                        <input id="charge-local-input" type="text" inputmode="decimal" placeholder="0" readonly>
                    </div>
                </div>

                <div class="money-grid">
                    <button class="money-btn" onclick="addMoney(10000)">+1ë§Œ</button>
                    <button class="money-btn" onclick="addMoney(30000)">+3ë§Œ</button>
                    <button class="money-btn" onclick="addMoney(50000)">+5ë§Œ</button>
                    <button class="money-btn" onclick="addMoney(100000)">+10ë§Œ</button>
                    <button class="money-btn" onclick="addMoney(500000)">+50ë§Œ</button>
                    <button class="money-btn" onclick="addMoney(1000000)">+100ë§Œ</button>
                </div>

                <div class="action-row" id="charge-action-row">
                    <button class="btn-reset" onclick="resetCharge()">ì´ˆê¸°í™”</button>
                    <button class="btn-next" onclick="goNextStep()">ë‹¤ìŒ</button>
                </div>
            </div>

            <div id="step2-area" class="hidden">
                <div style="height:1px; background:#eee; margin:25px 0;"></div>
                
                <div class="payment-section">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <span class="section-title" style="margin:0;">ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ</span>
                        <span onclick="resetCharge()" style="font-size:13px; color:#999; text-decoration:underline; cursor:pointer;">ê¸ˆì•¡ ì¬ì„¤ì •</span>
                    </div>

                    <div class="payment-option" onclick="selectMethod(this, 'cash')">
                        <div class="radio-circle"></div> 
                        <span><i class="fas fa-store" style="color:var(--primary-color); margin-right:8px;"></i>í¸ì˜ì  (í˜„ê¸ˆ)</span>
                    </div>
                    <div id="barcode-detail" class="detail-box">
                        <div style="font-weight:700; margin-bottom:6px; text-align:center;">í¸ì˜ì  ì¶©ì „ìš© ë°”ì½”ë“œ</div>
                        <div style="text-align:center;">
                            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='260' height='80'><rect width='260' height='80' fill='white'/><g stroke='black' stroke-width='6'><line x1='15' y1='10' x2='15' y2='70'/><line x1='35' y1='10' x2='35' y2='70'/><line x1='55' y1='10' x2='55' y2='70'/><line x1='80' y1='10' x2='80' y2='70'/><line x1='100' y1='10' x2='100' y2='70'/><line x1='120' y1='10' x2='120' y2='70'/><line x1='145' y1='10' x2='145' y2='70'/><line x1='165' y1='10' x2='165' y2='70'/><line x1='185' y1='10' x2='185' y2='70'/><line x1='205' y1='10' x2='205' y2='70'/><line x1='225' y1='10' x2='225' y2='70'/></g><text x='130' y='60' text-anchor='middle' font-family='monospace' font-size='14'>HANWHA CHARGE</text></svg>" alt="barcode" style="width:100%; max-width:250px; height:auto;">
                        </div>
                        <div style="margin-top:6px; color:var(--sub-text-color); font-size:12px; text-align:center;">ì ì›ì—ê²Œ ì´ ë°”ì½”ë“œë¥¼ ë³´ì—¬ì£¼ì„¸ìš”.</div>
                    </div>

                    <div class="payment-option" onclick="selectMethod(this, 'card')">
                        <div class="radio-circle"></div> 
                        <span><i class="fas fa-credit-card" style="color:var(--primary-color); margin-right:8px;"></i>ì‹ ìš©ì¹´ë“œ / ì²´í¬ì¹´ë“œ</span>
                    </div>
                    <div id="card-detail" class="detail-box">
                        <div class="input-group">
                            <label>ì¹´ë“œ ë²ˆí˜¸</label>
                            <input type="text" placeholder="0000 0000 0000 0000" inputmode="numeric" maxlength="19">
                        </div>
                        <div style="display:flex; gap:10px;">
                            <div class="input-group" style="flex:1;">
                                <label>ìœ íš¨ê¸°ê°„ (MM/YY)</label>
                                <input type="text" placeholder="12/25" maxlength="5">
                            </div>
                            <div class="input-group" style="flex:1;">
                                <label>CVC</label>
                                <input type="password" placeholder="***" maxlength="3" inputmode="numeric">
                            </div>
                        </div>
                    </div>

                    <div class="payment-option" onclick="selectMethod(this, 'bank')">
                        <div class="radio-circle"></div> 
                        <span><i class="fas fa-university" style="color:var(--primary-color); margin-right:8px;"></i>ë¬´í†µì¥ì…ê¸ˆ (ê°€ìƒê³„ì¢Œ)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="page" id="page-transfer">
        <a class="back-link" data-target="page-home"><i class="fas fa-arrow-left"></i> í™ˆìœ¼ë¡œ</a>
        <div class="form-card">
            <h2 style="margin-top:0;">ì†¡ê¸ˆ (ì—°ê²°ê³„ì¢Œ)</h2>
            <p style="color:var(--sub-text-color); margin-top:4px;">ì—°ê²°ëœ êµ­ë‚´ ê³„ì¢Œë¡œ ì¦‰ì‹œ ì´ì²´í•©ë‹ˆë‹¤.</p>
            <div class="input-group">
                <label for="transfer-amount">ì´ì²´ ê¸ˆì•¡ (â‚©)</label>
                <input type="number" id="transfer-amount" min="0" inputmode="numeric" placeholder="ì˜ˆ: 30000">
            </div>
            <button class="btn primary" onclick="submitTransfer()"><i class="fas fa-paper-plane"></i> ì†¡ê¸ˆí•˜ê¸°</button>
        </div>
    </section>

    <section class="page" id="page-remit">
        <a class="back-link" data-target="page-home"><i class="fas fa-arrow-left"></i> í™ˆìœ¼ë¡œ</a>
        <div class="form-card">
            <h2 style="margin-top:0;">í™˜ì „ ë° í•´ì™¸ ì†¡ê¸ˆ</h2>
            <p style="color:var(--sub-text-color); margin-top:4px;">ì‹¤ì‹œê°„ í™˜ìœ¨ì´ ì ìš©ë˜ë©° ìˆ˜ìˆ˜ë£Œê°€ ë¶€ê³¼ë©ë‹ˆë‹¤.</p>
            <div class="input-group">
                <label for="remit-amount">ë³´ë‚¼ ê¸ˆì•¡ (â‚©)</label>
                <input type="number" id="remit-amount" min="0" inputmode="numeric" placeholder="ì˜ˆ: 100000">
            </div>
            <div class="input-group">
                <label for="remit-currency">ë°›ì„ í†µí™”</label>
                <select id="remit-currency">
                    <option value="USD">USD (ë¯¸êµ­ ë‹¬ëŸ¬)</option>
                    <option value="EUR">EUR (ìœ ë¡œ)</option>
                    <option value="JPY">JPY (ì¼ë³¸ ì—”)</option>
                </select>
            </div>
            <button class="btn primary" onclick="submitRemit()"><i class="fas fa-globe"></i> ì†¡ê¸ˆí•˜ê¸°</button>
        </div>
    </section>

</div> <div class="bottom-nav">
    <div class="nav-item active" data-target="page-home"><i class="fas fa-home"></i> í™ˆ</div>
    <div class="nav-item" onclick="showToast('ì´ìš© ë‚´ì—­ í™•ì¸')"><i class="fas fa-list-alt"></i> ë‚´ì—­</div>
    <div class="nav-item" onclick="showToast('ì¹´ë“œ ê´€ë¦¬ ë©”ë‰´')"><i class="fas fa-credit-card"></i> ì¹´ë“œ</div>
    <div class="nav-item" onclick="showToast('ì „ì²´ ë©”ë‰´')"><i class="fas fa-bars"></i> ì „ì²´</div>
</div>

<div id="charge-bottom-bar" class="bottom-floating-bar hidden" onclick="finalCharge()">
    <span id="bottom-charge-amount">0</span>ì› ì¶©ì „í•˜ê¸°
</div>

<div class="toast" id="toast"></div>

<script>
    // ==========================================
    // ì•± ë°ì´í„° ë° ìƒíƒœ ê´€ë¦¬
    // ==========================================
    const state = {
        totalAssetsUSD: 3860.00,
        timeline: [
            { icon: 'fa-wallet', title: 'ì„ ë¶ˆê³„ì¢Œ ì¶©ì „', desc: 'ê°„í¸ ì¶©ì „ ì„±ê³µ', amount: '+â‚©200,000' },
            { icon: 'fa-plane', title: 'í•­ê³µê¶Œ ê²°ì œ', desc: 'Korea â†’ USA', amount: '-â‚©650,000' },
        ],
    };
    
    const exchangeRates = { 
        USD: 1300, 
        EUR: 1400, 
        AUD: 850,
        JPY: 900 // í™˜ì „ìš© ì˜ˆì‹œ
    };

    // ==========================================
    // ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§
    // ==========================================
    function navigate(targetId) {
        // ëª¨ë“  í˜ì´ì§€ ìˆ¨ê¹€
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        // íƒ€ê²Ÿ í˜ì´ì§€ë§Œ ë³´ì´ê¸°
        const targetPage = document.getElementById(targetId);
        if(targetPage) targetPage.classList.add('active');
        
        // í•˜ë‹¨ íƒ­ ìƒíƒœ ì—…ë°ì´íŠ¸
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        const activeNav = document.querySelector(`.nav-item[data-target="${targetId}"]`);
        if (activeNav) activeNav.classList.add('active');
        else if (targetId === 'page-home') document.querySelector('.nav-item[data-target="page-home"]').classList.add('active');

        // ì¶©ì „ í˜ì´ì§€ ì§„ì… ì‹œ ë¦¬ì…‹, ë‚˜ê°ˆ ë•Œ í”Œë¡œíŒ… ë°” ìˆ¨ê¹€
        if (targetId === 'page-charge') {
            resetCharge();
        } else {
            document.getElementById('charge-bottom-bar').classList.add('hidden');
        }
        window.scrollTo(0,0);
    }

    // ==========================================
    // ìœ í‹¸ë¦¬í‹°: í† ìŠ¤íŠ¸ ë©”ì‹œì§€
    // ==========================================
    function showToast(msg) {
        const t = document.getElementById('toast');
        t.innerText = msg;
        t.style.display = 'block';
        setTimeout(() => t.style.opacity = 1, 10);
        setTimeout(() => {
            t.style.opacity = 0;
            setTimeout(() => t.style.display = 'none', 300);
        }, 2000);
    }

    // ==========================================
    // ì¶©ì „í•˜ê¸° ë¡œì§ (New Logic + Old Features)
    // ==========================================
    let chargeAmount = 0;
    let selectedCurrency = 'USD';
    let selectedMethod = null;

    // í†µí™” ì„¤ì •
    function setCurrency(code, el) {
        // 2ë‹¨ê³„ ì§„í–‰ ì¤‘ì´ë©´ ë³€ê²½ ë¶ˆê°€ (íë¦° ìƒíƒœ)
        if(document.getElementById('step1-area').classList.contains('disabled-area')) return;

        selectedCurrency = code;
        document.querySelectorAll('.currency-choice').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
        
        document.getElementById('local-currency-label').innerText = `${code} (í˜„ì§€ í†µí™”)`;
        updateChargeInputs();
    }

    // ê¸ˆì•¡ ì¶”ê°€
    function addMoney(val) {
        chargeAmount += val;
        updateChargeInputs();
    }

    // í™”ë©´ ì—…ë°ì´íŠ¸ (ìˆ«ì ì½¤ë§ˆ, í™˜ìœ¨ ê³„ì‚°)
    function updateChargeInputs() {
        // ì›í™” í‘œì‹œ
        document.getElementById('charge-krw-input').value = chargeAmount.toLocaleString();
        
        // ì™¸í™” ê³„ì‚° í‘œì‹œ
        const rate = exchangeRates[selectedCurrency] || 1300;
        const localVal = chargeAmount / rate;
        document.getElementById('charge-local-input').value = localVal > 0 ? localVal.toFixed(2) : '';

        // í•˜ë‹¨ í”Œë¡œíŒ… ë°” ì—…ë°ì´íŠ¸
        document.getElementById('bottom-charge-amount').innerText = chargeAmount.toLocaleString();
    }

    // ì´ˆê¸°í™” (ë¦¬ì…‹)
    function resetCharge() {
        chargeAmount = 0;
        selectedMethod = null;
        updateChargeInputs();

        // 1ë‹¨ê³„ í™œì„±í™”, 2ë‹¨ê³„ ìˆ¨ê¹€
        document.getElementById('step1-area').classList.remove('disabled-area');
        document.getElementById('charge-action-row').style.display = 'flex'; // ë²„íŠ¼ ë‹¤ì‹œ ë³´ì´ê¸°
        
        document.getElementById('step2-area').classList.add('hidden');
        document.getElementById('charge-bottom-bar').classList.add('hidden');

        // ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ í•´ì œ ë° ë””í…Œì¼ ë°•ìŠ¤ ìˆ¨ê¹€
        document.querySelectorAll('.payment-option').forEach(o => o.classList.remove('selected'));
        document.querySelectorAll('.detail-box').forEach(box => box.classList.remove('show'));
    }

    // [ë‹¤ìŒ] ë²„íŠ¼ ê¸°ëŠ¥
    function goNextStep() {
        if (chargeAmount <= 0) {
            showToast('ì¶©ì „í•  ê¸ˆì•¡ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
        }

        // 1ë‹¨ê³„ íë¦¬ê²Œ
        document.getElementById('step1-area').classList.add('disabled-area');
        // 'ì´ˆê¸°í™”|ë‹¤ìŒ' ë²„íŠ¼ ì˜ì—­ ìˆ¨ê¹€ (ìˆœì°¨ì  ëŠë‚Œ)
        document.getElementById('charge-action-row').style.display = 'none';
        
        // 2ë‹¨ê³„ ë³´ì´ê¸° + í•˜ë‹¨ í”Œë¡œíŒ… ë°” ë³´ì´ê¸°
        document.getElementById('step2-area').classList.remove('hidden');
        document.getElementById('charge-bottom-bar').classList.remove('hidden');
        
        // ì‚´ì§ ìŠ¤í¬ë¡¤ ë‚´ë ¤ì£¼ê¸°
        // window.scrollTo({ top: 200, behavior: 'smooth' });
    }

    // ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ ì‹œ (ë°”ì½”ë“œ/ì¹´ë“œí¼ í‘œì‹œ ë¡œì§ í¬í•¨)
    function selectMethod(el, methodKey) {
        // ê¸°ì¡´ ì„ íƒ í•´ì œ
        document.querySelectorAll('.payment-option').forEach(o => o.classList.remove('selected'));
        document.querySelectorAll('.detail-box').forEach(box => box.classList.remove('show'));

        // ì„ íƒ í‘œì‹œ
        el.classList.add('selected');
        selectedMethod = methodKey;

        // ì„¸ë¶€ ë‚´ìš© í‘œì‹œ (ë°”ì½”ë“œ or ì¹´ë“œí¼)
        if (methodKey === 'cash') {
            document.getElementById('barcode-detail').classList.add('show');
        } else if (methodKey === 'card') {
            document.getElementById('card-detail').classList.add('show');
        }
    }

    // ìµœì¢… ì¶©ì „ ì™„ë£Œ
    function finalCharge() {
        if (!selectedMethod) {
            showToast('ê²°ì œ ìˆ˜ë‹¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
        }
        
        showToast(`${chargeAmount.toLocaleString()}ì› ì¶©ì „ ì™„ë£Œ!`);
        
        // ìì‚° ì—…ë°ì´íŠ¸ (ê°„ë‹¨ ì‹œë®¬ë ˆì´ì…˜)
        const rate = exchangeRates[selectedCurrency] || 1300;
        state.totalAssetsUSD += (chargeAmount / rate);
        document.getElementById('total-assets').innerText = `$${state.totalAssetsUSD.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;

        // ì ì‹œ í›„ í™ˆìœ¼ë¡œ
        setTimeout(() => {
            navigate('page-home');
        }, 1200);
    }

    // ==========================================
    // ê¸°íƒ€ í˜ì´ì§€ (ì†¡ê¸ˆ/í™˜ì „) ë¡œì§ ìœ ì§€
    // ==========================================
    function submitTransfer() {
        const val = document.getElementById('transfer-amount').value;
        if(!val || val <= 0) return showToast('ê¸ˆì•¡ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”');
        showToast('ì†¡ê¸ˆì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
        document.getElementById('transfer-amount').value = '';
        navigate('page-home');
    }

    function submitRemit() {
        const val = document.getElementById('remit-amount').value;
        if(!val || val <= 0) return showToast('ê¸ˆì•¡ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”');
        showToast('í™˜ì „ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
        document.getElementById('remit-amount').value = '';
        navigate('page-home');
    }

    // ==========================================
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    // ==========================================
    document.addEventListener('DOMContentLoaded', () => {
        // data-target ì†ì„±ì´ ìˆëŠ” ëª¨ë“  ìš”ì†Œì— í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°
        document.querySelectorAll('[data-target]').forEach(el => {
            el.addEventListener('click', (e) => {
                // ë¶€ëª¨ë¡œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€ (í•„ìš” ì‹œ)
                // e.stopPropagation(); 
                const target = el.dataset.target;
                navigate(target);
            });
        });
        
        // ì´ˆê¸°í™”
        updateChargeInputs();
    });

</script>

</body>
</html>